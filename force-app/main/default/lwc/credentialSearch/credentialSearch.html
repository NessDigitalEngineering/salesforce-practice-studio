<template>
  <div>
    <div class="slds-forelement__controlm-element">
      <div class="slds-form-">
        <div class="slds-combobox_container boxsize">
          <div class={txtclassname} data-id="resultBox" style="margin-left: -7px;" aria-expanded="false"
            aria-haspopup="listbox" role="combobox">
            <div
              class="slds-form-element__control slds-input-has-icon slds-input-has-icon slds-input-has-icon_left-right"
              role="none">
              <label class="slds-form-element__label slds-text-title_bold slds-text-heading_large">Select
                Credentials</label>
              <lightning-input required="{required}" style="margin-top: -15px;width:272px;" data-id="userinput"
                label="{Label}" name="searchText" onchange="{searchField}" placeholder="Select Credentials">
              </lightning-input>
              <span
                class="slds-icon_container slds-icon-utility-down slds-input__icon slds-input__icon_right iconheight">
                <lightning-icon class="slds-icon slds-icon slds-icon_small slds-icon-text-default"
                  icon-name="utility:down" size="x-small" alternative-text="icon"></lightning-icon>
              </span>
            </div>
            <div
              class="slds-form-element__control slds-input-has-icon slds-input-has-icon slds-input-has-icon_left-right"
              role="none">
              <template for:each="{selectedRecords}" for:item="serecord">
                <span key="{serecord.recId}">
                  <lightning-pill label="{serecord.recName}" name="{serecord.recId}" onremove="{removeRecord}">
                    <img src="{serecord.recIcon}" width="35" height="35" alt="" />
                  </lightning-pill>
                </span>
              </template>
            </div>

            <!-- Second part display result -->
            <div id="listbox-id-1" class="slds-dropdown slds-dropdown_length-with-icon-7 slds-dropdown_fluid"
              role="listbox">
              <ul class="slds-listbox slds-listbox_vertical" role="presentation">
                <template for:each="{searchRecords}" for:item="serecord">
                  <li role="presentation" class="slds-listbox__item" key="{serecord.recId}">
                    <div data-id="{serecord.Id}" data-name="{serecord.Name}" data-icon="{serecord.Icon__c}"
                      onclick="{setSelectedRecord}"
                      class="slds-media slds-listbox__option slds-listbox__option_entity slds-listbox__option_has-meta"
                      role="option">
                      <span class="slds-media__body">
                        <span class="slds-listbox__option-text slds-listbox__option-text_entity">
                          <img src="{serecord.Icon__c}" width="35" height="35"
                            alt="Second icon." />&emsp;{serecord.Name}</span>
                      </span>
                    </div>
                  </li>
                </template>
              </ul>
            </div>
            <div if:true="{messageFlag}">{UserLabels}</div>
            <div if:true="{LoadingText}">Loading...</div>
          </div>
        </div>
      </div>
    </div>
  </div>
</template>