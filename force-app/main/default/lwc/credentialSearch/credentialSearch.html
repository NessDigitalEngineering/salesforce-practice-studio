<template>
  <div class="slds-combobox_container">
    <div class={txtclassname} data-id="resultBox" aria-expanded="false" aria-haspopup="listbox" role="combobox">
      <div class="slds-form-element__control slds-input-has-icon slds-input-has-icon slds-input-has-icon_left-right"
        role="none">
        <lightning-input class="addMarginTop" data-id="userinput" label="" data-name="searchText" onchange={searchField}
          placeholder="Select Credentials"></lightning-input>
      </div>
      <div class="slds-form-element__control slds-input-has-icon slds-input-has-icon slds-input-has-icon_left-right"
        role="none">
        <template for:each={selectedRecords} for:item="serecord">

          <span key={serecord.recId}>
            <lightning-pill label={serecord.recName} name={serecord.recId} onremove={removeRecord}>
              <img src={serecord.recIcon} width="35" height="35" alt="" />
            </lightning-pill>
          </span>
        </template>
      </div>


      <!-- Second part display result -->
      <div id="listbox-id-1" class="slds-dropdown slds-dropdown_length-with-icon-7 slds-dropdown_fluid" role="listbox">
        <ul class="slds-listbox slds-listbox_vertical" role="presentation">
          <template for:each={searchRecords} for:item="serecord">
            <li role="presentation" class="slds-listbox__item" key={serecord.recId}>

              <div data-id={serecord.Id} data-name={serecord.Name} data-icon={serecord.Icon__c}
                onclick={setSelectedRecord}
                class="slds-media slds-listbox__option slds-listbox__option_entity slds-listbox__option_has-meta"
                role="option">

                <span class="slds-media__body">
                  <span class="slds-listbox__option-text slds-listbox__option-text_entity">
                    <img src={serecord.Icon__c} width="35" height="35" alt="Second icon." />&emsp;{serecord.Name}</span>

                </span>
              </div>
            </li>
          </template>
        </ul>
      </div>
    </div>
  </div>
</template>