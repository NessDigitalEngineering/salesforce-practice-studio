<template>
    <lightning-card title={title}>
        <template if:true={emptyRecords}>
            <div class="slds-var-p-around_small slds-scrollable_y  setHeight">
                <table aria-describedby="" class="slds-table">
                    <thead></thead>
                    <tbody>
                        <template for:each={searchRecords} for:item="cred" for:index="index">
                            <tr class="slds-hint-parent" key={cred.Id}>
                                <th></th>
                                <td data-label="Credentials">

                                    <lightning-layout class="slds-box " vertical-align="center" horizontal-align="left"
                                        multiple-rows="true">
                                        <lightning-layout-item flexibility="auto" size="4" large-device-size="4"
                                            medium-device-size="4" small-device-size="4">
                                            <p class="slds-text-title_bold" title={label.ExamAttemptID}>
                                                {label.ExamAttemptID}
                                            </p>
                                        </lightning-layout-item>
                                        <lightning-layout-item flexibility="no-flex" size="4" large-device-size="4"
                                            medium-device-size="4" small-device-size="4">
                                            <p class="slds-text-title_bold">{cred.Name} </p>
                                        </lightning-layout-item>
                                        <lightning-layout-item flexibility="auto" size="4" large-device-size="4"
                                            medium-device-size="4" small-device-size="4">
                                            <template if:true={cred.showButton}>
                                                <div class="">
                                                    <button class="slds-button slds-button_brand  slds-button_stretch"
                                                        label={cred.buttonName} value={cred.Id}
                                                        onclick={handleClick}>{cred.buttonName}
                                                    </button>
                                                </div>
                                            </template>
                                        </lightning-layout-item>

                                        <lightning-layout-item flexibility="auto" size="4" large-device-size="4"
                                            medium-device-size="4" small-device-size="4">
                                            <p class="slds-truncate" title={label.User_Credential}>
                                                {label.User_Credential}</p>
                                        </lightning-layout-item>
                                        <lightning-layout-item flexibility="no-flex" size="5" large-device-size="5"
                                            medium-device-size="5" small-device-size="5">
                                            <p class="slds-truncate">{cred.User_Credential__r.Name}</p>
                                        </lightning-layout-item>
                                        <lightning-layout-item flexibility="auto" size="4" large-device-size="4"
                                            medium-device-size="4" small-device-size="4">
                                            <p class="slds-truncate" title={label.Credential_Name}>
                                                {label.Credential_Name}</p>
                                        </lightning-layout-item>
                                        <lightning-layout-item flexibility="no-flex" size="5" large-device-size="5"
                                            medium-device-size="5" small-device-size="5">
                                            <p class="slds-truncate">{cred.Credential__c}</p>
                                        </lightning-layout-item>
                                        <lightning-layout-item flexibility="auto" size="4" large-device-size="4"
                                            medium-device-size="4" small-device-size="4">
                                            <p class="slds-truncate" title={label.Exam_Date_Time}>{label.Exam_Date_Time}
                                            </p>
                                        </lightning-layout-item>
                                        <lightning-layout-item flexibility="no-flex" size="5" large-device-size="5"
                                            medium-device-size="5" small-device-size="5">
                                            <p class="slds-truncate">
                                                <template if:false={cred.editExamDate}>
                                                    <lightning-formatted-date-time value={cred.Exam_Date_Time__c}
                                                        time-zone={timeZone} year="numeric" month="numeric"
                                                        day="numeric">
                                                    </lightning-formatted-date-time>&nbsp;
                                                    <lightning-button-icon icon-name="utility:edit" value={cred.Id}
                                                        input-type="date" onclick={handleDateEdit} size="x-small">
                                                    </lightning-button-icon>
                                                </template>

                                                <template if:true={cred.editExamDate}>
                                                    <lightning-input type="date" name={cred.Id} data-name={cred.Id}
                                                        value={cred.Exam_Date_Time__c}>
                                                    </lightning-input>
                                                </template>

                                            </p>
                                        </lightning-layout-item>
                                        <lightning-layout-item flexibility="no-flex" size="3" large-device-size="3"
                                            medium-device-size="3" small-device-size="3">
                                            <p class="slds-truncate slds-p-left_small setMarginTop">
                                                <template if:true={cred.editExamDate}>
                                                    <lightning-button-icon icon-name="action:check" name={cred.Id}
                                                        value={cred.Id} onclick={handleActionCheck} size="x-small">
                                                    </lightning-button-icon>
                                                    &nbsp;
                                                    <lightning-button-icon icon-name="action:remove" value={cred.Id}
                                                        onclick={handleActionClose} size="x-small">
                                                    </lightning-button-icon>
                                                </template>

                                            </p>
                                        </lightning-layout-item>
                                        <lightning-layout-item flexibility="auto" size="4" large-device-size="4"
                                            medium-device-size="4" small-device-size="4">
                                            <p class="slds-truncate" title={label.Status}>{label.Status}</p>
                                        </lightning-layout-item>
                                        <lightning-layout-item flexibility="no-flex" size="5" large-device-size="5"
                                            medium-device-size="5" small-device-size="5">
                                            <p class="slds-truncate">{cred.Status__c}</p>
                                        </lightning-layout-item>
                                    </lightning-layout>
                                </td>
                            </tr>
                        </template>
                    </tbody>
                </table>
            </div>
        </template>

        <template if:true={showIcon}>
            <div class="slds-text-align_center imgAdjustment">
                <img src={Icn} aria-hidden="true" alt="Assignment Logo"></img>
            </div>

            <div class="slds-text-align_center">
                <h2>{label.ExamAttempt_EmptyMsg}</h2><br>
            </div>
        </template>
    </lightning-card>
</template>
